<script>
  window.__assets_js_src={{- "assets/js/" | relURL -}}
</script>

<script src='{{ print "/assets/js/" .Site.Data.assets.main.js | relURL }}'></script>

{{- range .Site.Params.assets.customJS -}}
<script src="{{ . | relURL }}"></script>
{{- end -}} {{ partial "footer/mathjax" . }} {{- partial "footer/katex" . -}}
{{- partial "footer/mermaid" . -}} {{ partial "footer/extra" . }}

<script>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker
      .register("/sw.js", { scope: "/" })
      .then((reg) => {
        console.log("Service Worker Registered", reg);
      })
      .catch((err) => {
        console.error("Service Worker Registeration Error", err);
      });

    navigator.serviceWorker.ready
      .then((reg) => {
        console.log("Service Worker Ready", reg);
      })
      .catch((err) => console.error("Service Worker Not Ready: Error", err));
  }
</script>
